# AIå¾®ç§¯åˆ†åŠ©æ•™Chromeæ’ä»¶

## ğŸ“š é¡¹ç›®æ¦‚è¿°

AIé©±åŠ¨çš„å¾®ç§¯åˆ†åŠ©æ•™Chromeæ’ä»¶ï¼Œåˆ†ä¸ºå­¦ç”Ÿç«¯å’Œæ•™å¸ˆç«¯ï¼Œæ”¯æŒæ‰‹å†™ä½œä¸šæ‰¹æ”¹ã€é”™é¢˜è§£æã€ä¸ªæ€§åŒ–å­¦ä¹ å»ºè®®ã€‚

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

#### å­¦ç”Ÿç«¯åŠŸèƒ½
- **æ‰‹å†™ä½œä¸šæ‰¹æ”¹**: ä¸Šä¼ PDF/å›¾ç‰‡ä½œä¸šï¼ŒMyScriptè¯†åˆ«æ•°å­¦è¡¨è¾¾å¼
- **AIæ™ºèƒ½æ‰¹æ”¹**: Deepseek AIåˆ†æè§£é¢˜æ­¥éª¤ï¼Œæ ‡æ³¨é”™è¯¯å’Œæ”¹è¿›å»ºè®®
- **é”™é¢˜è§£æ**: è¯¦ç»†çš„é”™è¯¯åˆ†æå’Œæ­£ç¡®è§£æ³•è¯´æ˜
- **ä¸ªæ€§åŒ–å¤ä¹ æ‰‹å†Œ**: åŸºäºé”™é¢˜ç”Ÿæˆé’ˆå¯¹æ€§å¤ä¹ å†…å®¹
- **æ™ºèƒ½é—®ç­”**: åŸºäºæ•™æå†…å®¹çš„RAGé—®ç­”ç³»ç»Ÿ

#### æ•™å¸ˆç«¯åŠŸèƒ½
- **å­¦æƒ…æ¦‚è§ˆ**: ç­çº§æ•´ä½“å­¦ä¹ æƒ…å†µç»Ÿè®¡åˆ†æ
- **é”™é¢˜åˆ†æ**: å…¨ç­å¸¸è§é”™è¯¯æ¨¡å¼å’ŒçŸ¥è¯†ç‚¹è–„å¼±ç¯èŠ‚
- **æ•™å­¦å»ºè®®**: AIç”Ÿæˆçš„é’ˆå¯¹æ€§æ•™å­¦å»ºè®®
- **ä¼˜ç§€ä½œä¸šæ¨è**: è‡ªåŠ¨è¯†åˆ«å’Œæ¨èä¼˜ç§€ä½œä¸š

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **Chromeæ’ä»¶**: Manifest V3 + React 18 + TypeScript
- **UIç»„ä»¶**: Ant Design
- **çŠ¶æ€ç®¡ç†**: Redux Toolkit
- **æ„å»ºå·¥å…·**: Webpack 5

### åç«¯æŠ€æœ¯æ ˆ
- **APIæœåŠ¡**: Node.js + Express + TypeScript
- **æ•°æ®åº“**: PostgreSQL (ç”¨æˆ·æ•°æ®ã€ä½œä¸šè®°å½•)
- **å‘é‡æ•°æ®åº“**: Chroma (æ•™æå†…å®¹ã€RAGæœç´¢)
- **AIæœåŠ¡**: 
  - Deepseek (æ™ºèƒ½æ‰¹æ”¹å’Œé—®ç­”)
  - MyScript Interactive Ink (æ‰‹å†™è¯†åˆ«)
- **éƒ¨ç½²**: ClawCloudå®¹å™¨åŒ–éƒ¨ç½²

### æ•°æ®æµæ¶æ„
```
Chromeæ’ä»¶ -> Express API -> {
  PostgreSQL (ç»“æ„åŒ–æ•°æ®)
  Chroma (å‘é‡æœç´¢)
  MyScript API (æ‰‹å†™è¯†åˆ«)
  Deepseek API (AIåˆ†æ)
}
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Python 3.8+ (ç”¨äºChroma)
- Chromeæµè§ˆå™¨
- PostgreSQL æ•°æ®åº“

### å®‰è£…ä¾èµ–
```bash
# å®‰è£…Node.jsä¾èµ–
npm install

# å®‰è£…Pythonä¾èµ– (Chroma)
pip install chromadb

# å¯åŠ¨ChromaæœåŠ¡
chroma run --host localhost --port 8000
```

### å¼€å‘ç¯å¢ƒå¯åŠ¨
```bash
# å¯åŠ¨åç«¯APIæœåŠ¡
npm run dev:server

# æ„å»ºChromeæ’ä»¶
npm run dev:extension

# å¤„ç†æ•™æå†…å®¹ (æœ‰æ•™æåæ‰§è¡Œ)
npm run process-textbook
```

### Chromeæ’ä»¶å®‰è£…
1. æ‰“å¼€ `chrome://extensions/`
2. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
3. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
4. é€‰æ‹©é¡¹ç›®çš„ `dist/` ç›®å½•

## ğŸ“ é¡¹ç›®ç»“æ„

```
/
â”œâ”€â”€ README.md                  # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ .cursor/rules/             # å¼€å‘è§„èŒƒ
â”œâ”€â”€ src/                       # Chromeæ’ä»¶å‰ç«¯
â”‚   â”œâ”€â”€ background/           # Service Worker
â”‚   â”œâ”€â”€ content/              # Content Scripts
â”‚   â”œâ”€â”€ popup/                # å¼¹çª—ç•Œé¢
â”‚   â”œâ”€â”€ sidepanel/            # ä¾§è¾¹æ ç•Œé¢
â”‚   â””â”€â”€ shared/               # å…±äº«ç»„ä»¶
â”œâ”€â”€ server/                   # åç«¯APIæœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ routes/           # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/         # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ db/               # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ chroma/               # Chromaå‘é‡æ•°æ®
â”‚   â””â”€â”€ textbook/             # æ•™æå†…å®¹å¤„ç†
â”œâ”€â”€ docker/                   # å®¹å™¨åŒ–é…ç½®
â”œâ”€â”€ scripts/                  # å·¥å…·è„šæœ¬
â””â”€â”€ dist/                     # æ„å»ºè¾“å‡º
```

## ğŸ® åŠŸèƒ½æ¼”ç¤º

### å­¦ç”Ÿä½¿ç”¨æµç¨‹
1. **ä¸Šä¼ ä½œä¸š**: åœ¨ä»»æ„ç½‘é¡µç‚¹å‡»æ’ä»¶ï¼Œä¸Šä¼ PDF/å›¾ç‰‡ä½œä¸š
2. **è‡ªåŠ¨è¯†åˆ«**: MyScriptè¯†åˆ«æ‰‹å†™æ•°å­¦è¡¨è¾¾å¼
3. **AIæ‰¹æ”¹**: Deepseekåˆ†æè§£é¢˜è¿‡ç¨‹ï¼Œæ ‡æ³¨é”™è¯¯
4. **æŸ¥çœ‹ç»“æœ**: ä¾§è¾¹æ æ˜¾ç¤ºè¯¦ç»†æ‰¹æ”¹ç»“æœå’Œå»ºè®®
5. **æ™ºèƒ½é—®ç­”**: é‡åˆ°é—®é¢˜å¯åŸºäºæ•™æå†…å®¹æé—®

### æ•™å¸ˆä½¿ç”¨æµç¨‹
1. **æŸ¥çœ‹ç»Ÿè®¡**: æ’ä»¶æ˜¾ç¤ºç­çº§å­¦ä¹ æƒ…å†µæ¦‚è§ˆ
2. **é”™é¢˜åˆ†æ**: æŸ¥çœ‹å…¨ç­å¸¸è§é”™è¯¯å’ŒçŸ¥è¯†ç‚¹æŒæ¡æƒ…å†µ
3. **æ•™å­¦è°ƒæ•´**: æ ¹æ®AIå»ºè®®è°ƒæ•´æ•™å­¦é‡ç‚¹
4. **ä¼˜ç§€æ¨è**: è‡ªåŠ¨æ¨èä¼˜ç§€ä½œä¸šä¾›å­¦ä¹ å‚è€ƒ

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡é…ç½®
å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```bash
# æ•°æ®åº“é…ç½®
DATABASE_URL=postgresql://user:pass@host:port/db

# AIæœåŠ¡é…ç½®
DEEPSEEK_API_KEY=your-deepseek-api-key
MYSCRIPT_APPLICATION_KEY=your-myscript-app-key
MYSCRIPT_HMAC_KEY=your-myscript-hmac-key

# Chromaé…ç½®
CHROMA_HOST=localhost
CHROMA_PORT=8000

# å…¶ä»–é…ç½®
JWT_SECRET=your-jwt-secret
MAX_FILE_SIZE=10485760
```

### MyScripté…ç½®
1. è®¿é—® [MyScript Developer Portal](https://developer.myscript.com/)
2. åˆ›å»ºåº”ç”¨è·å– Application Key å’Œ HMAC Key
3. é…ç½®ä¸ºæ•°å­¦è¡¨è¾¾å¼è¯†åˆ«æ¨¡å¼

### Deepseeké…ç½®
1. è®¿é—® [Deepseekå¹³å°](https://platform.deepseek.com/)
2. è·å–APIå¯†é’¥
3. é…ç½®åˆ°ç¯å¢ƒå˜é‡ä¸­

## ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²

### Dockeréƒ¨ç½²
```bash
# æ„å»ºé•œåƒ
docker build -t calculus-ai-extension .

# è¿è¡Œå®¹å™¨
docker run -p 3000:3000 -p 8000:8000 \
  -e DATABASE_URL="your-db-url" \
  -e DEEPSEEK_API_KEY="your-key" \
  calculus-ai-extension
```

### ClawCloudéƒ¨ç½²
1. æ¨é€ä»£ç åˆ°Gitä»“åº“
2. åœ¨ClawCloudåˆ›å»ºæ–°åº”ç”¨
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²å¹¶å¯åŠ¨æœåŠ¡

## ğŸ“Š APIæ–‡æ¡£

### è®¤è¯æ¥å£
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ

### ä½œä¸šæ¥å£
- `POST /api/submissions` - æäº¤ä½œä¸š
- `GET /api/submissions/:id` - è·å–ä½œä¸šè¯¦æƒ…
- `GET /api/submissions/my` - æˆ‘çš„ä½œä¸šåˆ—è¡¨

### AIæœåŠ¡æ¥å£
- `POST /api/ai/myscript` - MyScriptæ‰‹å†™è¯†åˆ«
- `POST /api/ai/grading` - AIä½œä¸šæ‰¹æ”¹
- `POST /api/ai/analysis` - é”™é¢˜åˆ†æ

### RAGæ¥å£ (å¼€å‘ä¸­)
- `POST /api/rag/query` - æ™ºèƒ½é—®ç­”
- `GET /api/rag/similar` - æŸ¥æ‰¾ç›¸ä¼¼é¢˜ç›®

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘æµç¨‹
1. Forké¡¹ç›®åˆ°ä¸ªäººä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. åˆ›å»ºPull Request

### ä»£ç è§„èŒƒ
- éµå¾ªTypeScriptä¸¥æ ¼æ¨¡å¼
- ä½¿ç”¨ESLintå’ŒPrettieræ ¼å¼åŒ–ä»£ç 
- ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–æ ¸å¿ƒåŠŸèƒ½
- æäº¤ä¿¡æ¯ä½¿ç”¨çº¦å®šå¼æäº¤æ ¼å¼

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“§ è”ç³»æˆ‘ä»¬

- é¡¹ç›®åœ°å€: [GitHub Repository](https://github.com/username/calculus-ai-extension)
- é—®é¢˜åé¦ˆ: [Issues](https://github.com/username/calculus-ai-extension/issues)
- é‚®ç®±: your-email@example.com

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (å¼€å‘ä¸­)
- âœ… Chromeæ’ä»¶åŸºç¡€æ¡†æ¶
- âœ… MyScriptæ‰‹å†™è¯†åˆ«é›†æˆ
- âœ… Deepseek AIæ‰¹æ”¹åŠŸèƒ½
- âœ… åŸºç¡€çš„ä½œä¸šä¸Šä¼ å’Œå¤„ç†
- ğŸš§ RAGæ™ºèƒ½é—®ç­”ç³»ç»Ÿ (ç­‰å¾…æ•™æ)
- ğŸš§ æ•™å¸ˆç«¯åŠŸèƒ½
- ğŸš§ æ•°æ®åˆ†æå’Œå¯è§†åŒ–

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªStarï¼ 